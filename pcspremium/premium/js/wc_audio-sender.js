const a0_0x57e5b0=a0_0xd971;(function(_0x68cdc8,_0x4cee9a){const _0xb3bf52=a0_0xd971,_0x9a558c=_0x68cdc8();while(!![]){try{const _0x3cb1cc=-parseInt(_0xb3bf52(0x114))/0x1*(-parseInt(_0xb3bf52(0xde))/0x2)+-parseInt(_0xb3bf52(0xff))/0x3*(parseInt(_0xb3bf52(0xbb))/0x4)+-parseInt(_0xb3bf52(0xae))/0x5+-parseInt(_0xb3bf52(0xc4))/0x6*(parseInt(_0xb3bf52(0x10a))/0x7)+parseInt(_0xb3bf52(0xcd))/0x8+-parseInt(_0xb3bf52(0xb9))/0x9+parseInt(_0xb3bf52(0xfa))/0xa;if(_0x3cb1cc===_0x4cee9a)break;else _0x9a558c['push'](_0x9a558c['shift']());}catch(_0xf927aa){_0x9a558c['push'](_0x9a558c['shift']());}}}(a0_0x116e,0x41fde));let mediaStream=null,audioContext=null,audioWorkletNode=null,sourceNode=null,isRecording=![],packetsSent=0x0,bytesSent=0x0;const CONFIG={'SAMPLES_PER_PACKET':0x21c,'SAMPLE_RATE':0xbb80,'MAX_PACKET_SIZE':0x800,'TARGET_BYTE_RATE':0x2ee00,'LOCK_CONSECUTIVE_SECONDS':0x5,'READJUST_THRESHOLD':0.1,'CONSECUTIVE_DEVIATIONS':0x3,'RATE_TOLERANCE':0.05},BYTES_PER_SAMPLE=0x2,CHANNELS=0x2;let adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0);function getPacketSizeBytes(){const _0x4c14d9=a0_0xd971,_0x10f72e=CONFIG['SAMPLES_PER_PACKET']*CHANNELS*BYTES_PER_SAMPLE;return Math[_0x4c14d9(0xaf)](_0x10f72e,CONFIG[_0x4c14d9(0xfb)]);}function a0_0x116e(){const _0x3f05ef=['onclose','Disconnected','Adapting...\x20(','âŒ\x20Failed:\x20','error','Connecting\x20to\x20','onmessage','stopMicButton','max','892hhFzOt','OPEN','âœ…\x20Stopped','\x20samples/packet','state','\x20kB/s','Server:\x20','location','Send\x20failed:','buffer','sampleRate','forEach','set','channels','bytes','âœ…\x20Microphone\x20access\x20granted','\x20â†’\x20','rateReport','readyState','SAMPLES_PER_PACKET','toFixed','host','stop','Target\x20rate:','Stopping...','Recording','âœ…\x20Using\x20AudioWorklet\x20(modern\x20API)','rateValue=','15601930wLwiVf','MAX_PACKET_SIZE','Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%','Hz,\x20','application/javascript','18TfmyTA','length','config','\x20kB/s\x20(','low','TARGET_BYTE_RATE','disconnect','âŒ\x20WebSocket\x20error','ðŸ“Š\x20Need\x205\x20consecutive\x20seconds\x20within\x20Â±5%\x20to\x20lock','audioWorklet','getUserMedia','210637tlqOwQ','message','âš ï¸\x20AudioWorklet\x20not\x20available,\x20using\x20ScriptProcessor',',\x20Bytes:\x20','log','âœ…\x20Rate\x20locked\x20at\x20','byteLength','high','type','info','157LdGKlN','%)\x20-\x20','Packet\x20size:','%),\x20restarting\x20adaptation!','...','createMediaStreamSource','Starting\x20continuous\x20audio\x20streaming...','Using\x20continuous\x20capture\x20(no\x20start/stop\x20loss)','Stopped','ðŸ“Š\x20Stable\x20rate:\x20','data','close','getTracks','round','connect','ðŸŽ¤\x20No\x20word\x20loss\x20-\x20continuous\x20capture!','2005805WNPywF','min','port','ðŸ“Š\x20Adjusted:\x20','addModule','success','protocol','CONSECUTIVE_DEVIATIONS','getAudioTracks','LOCK_CONSECUTIVE_SECONDS','logSender:\x20','405891RgKtyO','slice','342668kvFqDj','âœ“\x20Within\x20tolerance\x20(','SAMPLE_RATE','Hz,\x20EC/NS/AGC\x20enabled','disabled','Mic:\x20','ðŸ“Š\x20Packet\x20size:\x20','âœ“\x20Rate\x20stable:\x20','âœ¨\x20Ready\x20for\x20continuous\x20audio\x20streaming!','102vpvmPx','âš ï¸\x203\x20consecutive\x20deviations\x20detected\x20(','ws:','floor','startMicButton','\x20bytes','âœ…\x20WebSocket\x20connected','ðŸ“Š\x20Packets:\x20','===================================','895168mGUAyN','ðŸ“Š\x20Starting:\x20','send','warning','RATE_TOLERANCE','WebSocket\x20disconnected','ðŸ“Š\x20Final\x20stable\x20rate:\x20','audio-processor'];a0_0x116e=function(){return _0x3f05ef;};return a0_0x116e();}console[a0_0x57e5b0(0x10e)]('===\x20CONTINUOUS\x20AUDIO\x20STREAMING\x20==='),console['log'](a0_0x57e5b0(0xfc)),console[a0_0x57e5b0(0x10e)]('Initial\x20samples/packet:',CONFIG[a0_0x57e5b0(0xf1)]),console['log'](a0_0x57e5b0(0x116),getPacketSizeBytes(),a0_0x57e5b0(0xec)),console[a0_0x57e5b0(0x10e)](a0_0x57e5b0(0xf5),CONFIG[a0_0x57e5b0(0x104)],'B/s'),console[a0_0x57e5b0(0x10e)](a0_0x57e5b0(0xa5)),console['log'](a0_0x57e5b0(0xcc));const startBtnMic=document['getElementById'](a0_0x57e5b0(0xc8)),stopBtnMic=document['getElementById'](a0_0x57e5b0(0xdc));function logSender(_0x499084,_0x493ee4=a0_0x57e5b0(0x113)){const _0xa8195e=a0_0x57e5b0;console[_0xa8195e(0x10e)](_0xa8195e(0xb8)+_0x499084);}function updateStatusSender(_0x4cb1b3,_0x224393=![],_0x238dad=![]){}function updateStatsSender(){}function updateRateIndicator(_0x26fc1b){const _0x5841f8=a0_0x57e5b0,_0x2f6fcc=_0x26fc1b['toFixed'](0x1)+'%';console['log'](_0x5841f8(0xf9)+_0x2f6fcc);}function handleRateReport(_0x33c7ae){const _0x6d7448=a0_0x57e5b0,_0x44a1db=_0x33c7ae/CONFIG[_0x6d7448(0x104)]*0x64;updateRateIndicator(_0x44a1db);const _0xdea821=Date['now']();!adaptationStartTime&&(adaptationStartTime=_0xdea821,isAdapting=!![],consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=_0xdea821,logSender('ðŸ”„\x20Starting\x20adaptation\x20period',_0x6d7448(0xd0)),logSender(_0x6d7448(0x107),_0x6d7448(0xd0)));const _0x3a4d0b=0x64-CONFIG[_0x6d7448(0xd1)]*0x64,_0x387cc8=0x64+CONFIG[_0x6d7448(0xd1)]*0x64;if(isAdapting)_0x44a1db>=_0x3a4d0b&&_0x44a1db<=_0x387cc8?(consecutiveGoodReports++,logSender(_0x6d7448(0xbc)+_0x44a1db[_0x6d7448(0xf2)](0x1)+_0x6d7448(0x115)+consecutiveGoodReports+'/'+CONFIG[_0x6d7448(0xb7)]+'s','success'),consecutiveGoodReports>=CONFIG[_0x6d7448(0xb7)]?(isAdapting=![],adaptationLockTime=_0xdea821,lastStableRate=_0x33c7ae,consecutiveDeviations=0x0,lastDeviationDirection=null,logSender(_0x6d7448(0x10f)+CONFIG['SAMPLES_PER_PACKET']+_0x6d7448(0xe1),_0x6d7448(0xb3)),logSender(_0x6d7448(0xa7)+(_0x33c7ae/0x3e8)['toFixed'](0x1)+_0x6d7448(0x102)+_0x44a1db[_0x6d7448(0xf2)](0x1)+'%)',_0x6d7448(0xb3)),updateStatsSender()):updateStatsSender()):(consecutiveGoodReports>0x0&&logSender('âš ï¸\x20Out\x20of\x20tolerance\x20('+_0x44a1db['toFixed'](0x1)+'%),\x20resetting\x20counter',_0x6d7448(0xd0)),consecutiveGoodReports=0x0,logSender(_0x6d7448(0xd7)+_0x44a1db[_0x6d7448(0xf2)](0x1)+'%)'),adjustSampleRate(_0x33c7ae,_0x44a1db),updateStatsSender()),lastReportTime=_0xdea821;else{const _0x58b242=_0x44a1db-0x64,_0x2b3c3f=Math['abs'](_0x58b242);if(_0x2b3c3f>CONFIG['READJUST_THRESHOLD']*0x64){const _0x7bdf40=_0x58b242>0x0?_0x6d7448(0x111):_0x6d7448(0x103);lastDeviationDirection===_0x7bdf40?consecutiveDeviations++:(consecutiveDeviations=0x1,lastDeviationDirection=_0x7bdf40),updateStatsSender(),consecutiveDeviations>=CONFIG[_0x6d7448(0xb5)]&&(logSender(_0x6d7448(0xc5)+_0x58b242['toFixed'](0x1)+_0x6d7448(0xa1),'error'),isAdapting=!![],adaptationStartTime=_0xdea821,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,updateStatsSender());}else consecutiveDeviations>0x0&&(consecutiveDeviations=0x0,lastDeviationDirection=null,updateStatsSender()),packetsSent%0x64===0x0&&logSender(_0x6d7448(0xc2)+_0x44a1db[_0x6d7448(0xf2)](0x1)+'%',_0x6d7448(0xb3));}}function adjustSampleRate(_0x46e2ef,_0x251ea3){const _0x739fc=a0_0x57e5b0,_0x83f2=0x64-CONFIG['RATE_TOLERANCE']*0x64,_0x57eacf=0x64+CONFIG['RATE_TOLERANCE']*0x64;if(_0x251ea3>=_0x83f2&&_0x251ea3<=_0x57eacf)return;const _0x10e033=CONFIG[_0x739fc(0xf1)],_0x158151=Math[_0x739fc(0xab)](_0x10e033*(CONFIG[_0x739fc(0x104)]/_0x46e2ef));let _0x16bfef=Math['round'](_0x158151/0x4)*0x4;const _0x440af6=Math[_0x739fc(0xc7)](CONFIG[_0x739fc(0xfb)]/(CHANNELS*BYTES_PER_SAMPLE));_0x16bfef=Math[_0x739fc(0xdd)](0x100,Math['min'](_0x440af6,_0x16bfef));if(_0x16bfef!==CONFIG[_0x739fc(0xf1)]){const _0x3c13d4=CONFIG[_0x739fc(0xf1)],_0x442924=getPacketSizeBytes();CONFIG['SAMPLES_PER_PACKET']=_0x16bfef;const _0x5a1705=getPacketSizeBytes();logSender(_0x739fc(0xb1)+_0x3c13d4+'\x20â†’\x20'+_0x16bfef+'\x20samples/packet'),logSender(_0x739fc(0xc1)+_0x442924+_0x739fc(0xee)+_0x5a1705+'\x20bytes'),updateStatsSender();}}async function connectWebSocket(){return new Promise((_0x37e555,_0x1419f9)=>{const _0x668567=a0_0xd971,_0xf8724a=window[_0x668567(0xe5)][_0x668567(0xb4)]==='https:'?'wss:':_0x668567(0xc6),_0x47a7b3=_0xf8724a+'//'+window[_0x668567(0xe5)][_0x668567(0xf3)];logSender(_0x668567(0xda)+_0x47a7b3+_0x668567(0xa2)),ws=new WebSocket(_0x47a7b3),ws['onopen']=()=>{const _0xfac937=_0x668567;logSender(_0xfac937(0xca),_0xfac937(0xb3)),_0x37e555();},ws['onmessage']=_0xc7fca6=>{const _0xd445f6=_0x668567;try{const _0x36385c=JSON['parse'](_0xc7fca6[_0xd445f6(0xa8)]);if(_0x36385c['type']===_0xd445f6(0x101))logSender(_0xd445f6(0xe4)+_0x36385c[_0xd445f6(0xe8)]+_0xd445f6(0xfd)+_0x36385c[_0xd445f6(0xeb)]+'ch');else _0x36385c[_0xd445f6(0x112)]===_0xd445f6(0xef)&&handleRateReport(_0x36385c['byteRate']);}catch(_0x372320){}},ws['onerror']=_0x2c589b=>{const _0xd39a7e=_0x668567;logSender(_0xd39a7e(0x106),_0xd39a7e(0xd9)),_0x1419f9(_0x2c589b);},ws[_0x668567(0xd5)]=()=>{const _0x3f385f=_0x668567;logSender(_0x3f385f(0xd2),'warning'),updateStatusSender(_0x3f385f(0xd6),![],![]);};});}function handleAudioProcess(_0x1765d7){const _0x47816f=a0_0x57e5b0;if(!isRecording||!ws||ws[_0x47816f(0xf0)]!==WebSocket[_0x47816f(0xdf)])return;const _0x171d67=new Float32Array(audioBuffer['length']+_0x1765d7['length']);_0x171d67[_0x47816f(0xea)](audioBuffer),_0x171d67[_0x47816f(0xea)](_0x1765d7,audioBuffer[_0x47816f(0x100)]),audioBuffer=_0x171d67;const _0xc1d73f=CONFIG['SAMPLES_PER_PACKET'],_0x3354c9=_0xc1d73f*CHANNELS;while(audioBuffer[_0x47816f(0x100)]>=_0x3354c9){const _0x35e00a=audioBuffer['slice'](0x0,_0x3354c9);audioBuffer=audioBuffer[_0x47816f(0xba)](_0x3354c9);const _0x16ee94=new Int16Array(_0x3354c9);for(let _0x47343f=0x0;_0x47343f<_0x3354c9;_0x47343f++){const _0x1bee4d=Math[_0x47816f(0xdd)](-0x1,Math[_0x47816f(0xaf)](0x1,_0x35e00a[_0x47343f]));_0x16ee94[_0x47343f]=Math[_0x47816f(0xab)](_0x1bee4d*0x7fff);}try{ws[_0x47816f(0xcf)](_0x16ee94[_0x47816f(0xe7)]),packetsSent++,bytesSent+=_0x16ee94[_0x47816f(0x110)],packetsSent%0x32===0x0&&updateStatsSender();}catch(_0x49aedd){console[_0x47816f(0xd9)](_0x47816f(0xe6),_0x49aedd);return;}}}async function micRecording(){const _0x3a42ed=a0_0x57e5b0;try{startBtnMic[_0x3a42ed(0xbf)]=!![],logSender(_0x3a42ed(0xa4)),logSender('ðŸ“Š\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%'),logSender('ðŸ“Š\x20Starting\x20at\x20540\x20samples/packet'),logSender('ðŸŽ¤\x20Continuous\x20capture\x20(no\x20start/stop\x20loss)'),packetsSent=0x0,bytesSent=0x0,adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0),mediaStream=await navigator['mediaDevices'][_0x3a42ed(0x109)]({'audio':{'echoCancellation':!![],'noiseSuppression':!![],'autoGainControl':!![],'channelCount':CHANNELS,'sampleRate':CONFIG[_0x3a42ed(0xbd)]}}),logSender(_0x3a42ed(0xed),_0x3a42ed(0xb3));const _0x5e633a=mediaStream[_0x3a42ed(0xb6)]();if(_0x5e633a[_0x3a42ed(0x100)]>0x0){const _0x55d5a2=_0x5e633a[0x0]['getSettings']();logSender(_0x3a42ed(0xc0)+_0x55d5a2[_0x3a42ed(0xe8)]+_0x3a42ed(0xbe));}audioContext=new AudioContext({'sampleRate':CONFIG['SAMPLE_RATE']}),sourceNode=audioContext[_0x3a42ed(0xa3)](mediaStream);try{await audioContext[_0x3a42ed(0x108)][_0x3a42ed(0xb2)](createAudioWorkletProcessor()),audioWorkletNode=new AudioWorkletNode(audioContext,_0x3a42ed(0xd4)),audioWorkletNode[_0x3a42ed(0xb0)][_0x3a42ed(0xdb)]=_0x5caea2=>{const _0x10a550=_0x3a42ed;handleAudioProcess(_0x5caea2[_0x10a550(0xa8)]);},sourceNode[_0x3a42ed(0xac)](audioWorkletNode),audioWorkletNode['connect'](audioContext['destination']),logSender(_0x3a42ed(0xf8),_0x3a42ed(0xb3));}catch(_0x251552){logSender(_0x3a42ed(0x10c),'warning'),sourceNode['connect'](scriptNode),scriptNode[_0x3a42ed(0xac)](audioContext['destination']);}isRecording=!![],stopBtnMic[_0x3a42ed(0xbf)]=![],updateStatusSender(_0x3a42ed(0xf7),!![],!![]),logSender('ðŸŽ¤\x20Recording\x20started\x20-\x20continuous\x20capture!',_0x3a42ed(0xb3)),updateStatsSender(),updateRateIndicator(0x64);}catch(_0x511740){logSender(_0x3a42ed(0xd8)+_0x511740[_0x3a42ed(0x10b)],'error'),console['error'](_0x511740),startBtnMic['disabled']=![];}}function createAudioWorkletProcessor(){const _0x1f60f2=a0_0x57e5b0,_0x405789='\x0a\x20\x20\x20\x20\x20\x20\x20\x20class\x20AudioProcessor\x20extends\x20AudioWorkletProcessor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process(inputs,\x20outputs,\x20parameters)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20input\x20=\x20inputs[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(input\x20&&\x20input.length\x20>=\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20leftChannel\x20=\x20input[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rightChannel\x20=\x20input[1];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interleave\x20stereo\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20interleaved\x20=\x20new\x20Float32Array(leftChannel.length\x20*\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20leftChannel.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202]\x20=\x20leftChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202\x20+\x201]\x20=\x20rightChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.port.postMessage(interleaved);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20registerProcessor(\x27audio-processor\x27,\x20AudioProcessor);\x0a\x20\x20\x20\x20',_0x228625=new Blob([_0x405789],{'type':_0x1f60f2(0xfe)});return URL['createObjectURL'](_0x228625);}function a0_0xd971(_0x1f1886,_0x4f1800){const _0x116ecf=a0_0x116e();return a0_0xd971=function(_0xd971d0,_0x6471c0){_0xd971d0=_0xd971d0-0xa1;let _0x4898bd=_0x116ecf[_0xd971d0];return _0x4898bd;},a0_0xd971(_0x1f1886,_0x4f1800);}function micStop(){const _0xd5c82e=a0_0x57e5b0;logSender(_0xd5c82e(0xf6)),isRecording=![],audioWorkletNode&&(audioWorkletNode['disconnect'](),audioWorkletNode=null),sourceNode&&(sourceNode[_0xd5c82e(0x105)](),sourceNode=null),audioContext&&audioContext[_0xd5c82e(0xe2)]!=='closed'&&(audioContext[_0xd5c82e(0xa9)](),audioContext=null),mediaStream&&(mediaStream[_0xd5c82e(0xaa)]()[_0xd5c82e(0xe9)](_0x1face8=>_0x1face8[_0xd5c82e(0xf4)]()),mediaStream=null),startBtnMic['disabled']=![],stopBtnMic[_0xd5c82e(0xbf)]=!![],updateStatusSender(_0xd5c82e(0xa6),![],![]),logSender(_0xd5c82e(0xe0),_0xd5c82e(0xb3)),logSender(_0xd5c82e(0xcb)+packetsSent+_0xd5c82e(0x10d)+bytesSent),lastStableRate&&logSender(_0xd5c82e(0xd3)+(lastStableRate/0x3e8)['toFixed'](0x1)+_0xd5c82e(0xe3)),updateStatsSender();}logSender(a0_0x57e5b0(0xc3)),logSender(a0_0x57e5b0(0xce)+CONFIG[a0_0x57e5b0(0xf1)]+a0_0x57e5b0(0xe1)),logSender(a0_0x57e5b0(0xc1)+getPacketSizeBytes()+a0_0x57e5b0(0xc9)),logSender('ðŸŽ¯\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%'),logSender(a0_0x57e5b0(0xad)),updateStatsSender(),updateRateIndicator(0x64);
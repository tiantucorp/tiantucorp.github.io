const a1_0x391391=a1_0x205b;(function(_0x4242a7,_0x5bbcb6){const _0x33bbfa=a1_0x205b,_0x5016df=_0x4242a7();while(!![]){try{const _0x1c8ca6=parseInt(_0x33bbfa(0x108))/0x1+-parseInt(_0x33bbfa(0x121))/0x2+parseInt(_0x33bbfa(0x16a))/0x3*(parseInt(_0x33bbfa(0x13b))/0x4)+-parseInt(_0x33bbfa(0x100))/0x5+-parseInt(_0x33bbfa(0x133))/0x6+-parseInt(_0x33bbfa(0x132))/0x7*(parseInt(_0x33bbfa(0x167))/0x8)+parseInt(_0x33bbfa(0x160))/0x9*(parseInt(_0x33bbfa(0x151))/0xa);if(_0x1c8ca6===_0x5bbcb6)break;else _0x5016df['push'](_0x5016df['shift']());}catch(_0x30c923){_0x5016df['push'](_0x5016df['shift']());}}}(a1_0xfe41,0x35f53));function a1_0xfe41(){const _0x54b83d=['round','data','onerror','getElementById','Mic:\x20','bytes','ðŸ“Š\x20Starting\x20at\x20540\x20samples/packet','Packet\x20size:','high','Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%','onmessage','âœ…\x20Stopped','âœ¨\x20Ready\x20for\x20continuous\x20audio\x20streaming!','\x20â†’\x20','ws:','close','ðŸ“Š\x20Final\x20stable\x20rate:\x20','6868630dbPlOK','Target\x20rate:','Connecting\x20to\x20','\x20samples/packet','slice','connect','âœ“\x20Within\x20tolerance\x20(','getAudioTracks','SAMPLE_RATE','Using\x20continuous\x20capture\x20(no\x20start/stop\x20loss)','âœ…\x20Microphone\x20access\x20granted','startMicButton','CONSECUTIVE_DEVIATIONS','addModule','TARGET_BYTE_RATE','9qhFQEJ','RATE_TOLERANCE','âœ…\x20Rate\x20locked\x20at\x20','parse','info','protocol','Recording','8KWALZf','toFixed','ðŸ“Š\x20Need\x205\x20consecutive\x20seconds\x20within\x20Â±5%\x20to\x20lock','496284jgSLjy','Send\x20failed:','%)\x20-\x20','logSender:\x20','===================================','floor','\x20bytes','Initial\x20samples/packet:','createMediaStreamSource','location','stop','warning','rateValue=','max','===\x20CONTINUOUS\x20AUDIO\x20STREAMING\x20===','byteLength','âŒ\x20WebSocket\x20error','ðŸŽ¤\x20Continuous\x20capture\x20(no\x20start/stop\x20loss)','destination','1736660mxmMkw','min','wss:','Server:\x20','OPEN','SAMPLES_PER_PACKET','Hz,\x20','length','342950mnBPHf','audio-processor','now','channels','\x20kB/s\x20(','type','onopen','createObjectURL','âœ“\x20Rate\x20stable:\x20','LOCK_CONSECUTIVE_SECONDS','ðŸ“Š\x20Starting:\x20','âš ï¸\x20AudioWorklet\x20not\x20available,\x20using\x20ScriptProcessor','mediaDevices','MAX_PACKET_SIZE','error','...','âš ï¸\x203\x20consecutive\x20deviations\x20detected\x20(','send','success','ðŸ“Š\x20Stable\x20rate:\x20','readyState','abs','set','port','host','210616AgrHOT','message','forEach','Adapting...\x20(','stopMicButton','state','\x20kB/s','ðŸ“Š\x20Adjusted:\x20','disabled','byteRate','audioWorklet','application/javascript','sampleRate','ðŸ”„\x20Starting\x20adaptation\x20period','âš ï¸\x20Out\x20of\x20tolerance\x20(','low','onclose','1896825FATzwU','2496258skioQT','Stopped','log','disconnect','Hz,\x20EC/NS/AGC\x20enabled','âŒ\x20Failed:\x20','ðŸŽ¯\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%','ðŸŽ¤\x20No\x20word\x20loss\x20-\x20continuous\x20capture!','8iyoEVk','ðŸ“Š\x20Packet\x20size:\x20','getUserMedia','âœ…\x20WebSocket\x20connected','rateReport'];a1_0xfe41=function(){return _0x54b83d;};return a1_0xfe41();}let mediaStream=null,audioContext=null,audioWorkletNode=null,sourceNode=null,isRecording=![],packetsSent=0x0,bytesSent=0x0;const CONFIG={'SAMPLES_PER_PACKET':0x21c,'SAMPLE_RATE':0xbb80,'MAX_PACKET_SIZE':0x800,'TARGET_BYTE_RATE':0x2ee00,'LOCK_CONSECUTIVE_SECONDS':0x5,'READJUST_THRESHOLD':0.1,'CONSECUTIVE_DEVIATIONS':0x3,'RATE_TOLERANCE':0.05},BYTES_PER_SAMPLE=0x2,CHANNELS=0x2;let adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0);function getPacketSizeBytes(){const _0x306c0f=a1_0x205b,_0x17c8d3=CONFIG[_0x306c0f(0x105)]*CHANNELS*BYTES_PER_SAMPLE;return Math[_0x306c0f(0x101)](_0x17c8d3,CONFIG[_0x306c0f(0x115)]);}console[a1_0x391391(0x135)](a1_0x391391(0xfb)),console[a1_0x391391(0x135)](a1_0x391391(0x149)),console['log'](a1_0x391391(0x171),CONFIG['SAMPLES_PER_PACKET']),console[a1_0x391391(0x135)](a1_0x391391(0x147),getPacketSizeBytes(),a1_0x391391(0x145)),console['log'](a1_0x391391(0x152),CONFIG[a1_0x391391(0x15f)],'B/s'),console[a1_0x391391(0x135)](a1_0x391391(0x15a)),console['log'](a1_0x391391(0x16e));const startBtnMic=document['getElementById'](a1_0x391391(0x15c)),stopBtnMic=document[a1_0x391391(0x143)](a1_0x391391(0x125));function logSender(_0x406c00,_0x157375=a1_0x391391(0x164)){const _0x3a4304=a1_0x391391;console[_0x3a4304(0x135)](_0x3a4304(0x16d)+_0x406c00);}function updateStatusSender(_0x1b1098,_0x2f2595=![],_0x3e5707=![]){}function updateStatsSender(){}function a1_0x205b(_0x3ecc15,_0x395bba){const _0xfe416d=a1_0xfe41();return a1_0x205b=function(_0x205b7c,_0x33e73c){_0x205b7c=_0x205b7c-0xfa;let _0x51dced=_0xfe416d[_0x205b7c];return _0x51dced;},a1_0x205b(_0x3ecc15,_0x395bba);}function updateRateIndicator(_0x3ec152){const _0x127b4c=a1_0x391391,_0x317905=_0x3ec152[_0x127b4c(0x168)](0x1)+'%';console[_0x127b4c(0x135)](_0x127b4c(0x176)+_0x317905);}function handleRateReport(_0x744b19){const _0x321783=a1_0x391391,_0x224325=_0x744b19/CONFIG[_0x321783(0x15f)]*0x64;updateRateIndicator(_0x224325);const _0x273646=Date[_0x321783(0x10a)]();!adaptationStartTime&&(adaptationStartTime=_0x273646,isAdapting=!![],consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=_0x273646,logSender(_0x321783(0x12e),_0x321783(0x175)),logSender(_0x321783(0x169),_0x321783(0x175)));const _0x3ba7b0=0x64-CONFIG[_0x321783(0x161)]*0x64,_0x453d30=0x64+CONFIG[_0x321783(0x161)]*0x64;if(isAdapting)_0x224325>=_0x3ba7b0&&_0x224325<=_0x453d30?(consecutiveGoodReports++,logSender(_0x321783(0x157)+_0x224325[_0x321783(0x168)](0x1)+_0x321783(0x16c)+consecutiveGoodReports+'/'+CONFIG['LOCK_CONSECUTIVE_SECONDS']+'s','success'),consecutiveGoodReports>=CONFIG[_0x321783(0x111)]?(isAdapting=![],adaptationLockTime=_0x273646,lastStableRate=_0x744b19,consecutiveDeviations=0x0,lastDeviationDirection=null,logSender(_0x321783(0x162)+CONFIG[_0x321783(0x105)]+_0x321783(0x154),_0x321783(0x11a)),logSender(_0x321783(0x11b)+(_0x744b19/0x3e8)[_0x321783(0x168)](0x1)+_0x321783(0x10c)+_0x224325[_0x321783(0x168)](0x1)+'%)',_0x321783(0x11a)),updateStatsSender()):updateStatsSender()):(consecutiveGoodReports>0x0&&logSender(_0x321783(0x12f)+_0x224325[_0x321783(0x168)](0x1)+'%),\x20resetting\x20counter',_0x321783(0x175)),consecutiveGoodReports=0x0,logSender(_0x321783(0x124)+_0x224325[_0x321783(0x168)](0x1)+'%)'),adjustSampleRate(_0x744b19,_0x224325),updateStatsSender()),lastReportTime=_0x273646;else{const _0x4d0c7c=_0x224325-0x64,_0xb3e436=Math[_0x321783(0x11d)](_0x4d0c7c);if(_0xb3e436>CONFIG['READJUST_THRESHOLD']*0x64){const _0x1e2b35=_0x4d0c7c>0x0?_0x321783(0x148):_0x321783(0x130);lastDeviationDirection===_0x1e2b35?consecutiveDeviations++:(consecutiveDeviations=0x1,lastDeviationDirection=_0x1e2b35),updateStatsSender(),consecutiveDeviations>=CONFIG[_0x321783(0x15d)]&&(logSender(_0x321783(0x118)+_0x4d0c7c[_0x321783(0x168)](0x1)+'%),\x20restarting\x20adaptation!',_0x321783(0x116)),isAdapting=!![],adaptationStartTime=_0x273646,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,updateStatsSender());}else consecutiveDeviations>0x0&&(consecutiveDeviations=0x0,lastDeviationDirection=null,updateStatsSender()),packetsSent%0x64===0x0&&logSender(_0x321783(0x110)+_0x224325[_0x321783(0x168)](0x1)+'%','success');}}function adjustSampleRate(_0x118a13,_0x2b5872){const _0x599a8e=a1_0x391391,_0x224b38=0x64-CONFIG[_0x599a8e(0x161)]*0x64,_0x509626=0x64+CONFIG['RATE_TOLERANCE']*0x64;if(_0x2b5872>=_0x224b38&&_0x2b5872<=_0x509626)return;const _0x44ea6d=CONFIG[_0x599a8e(0x105)],_0xdec255=Math[_0x599a8e(0x140)](_0x44ea6d*(CONFIG['TARGET_BYTE_RATE']/_0x118a13));let _0x402082=Math[_0x599a8e(0x140)](_0xdec255/0x4)*0x4;const _0x11cb0c=Math[_0x599a8e(0x16f)](CONFIG[_0x599a8e(0x115)]/(CHANNELS*BYTES_PER_SAMPLE));_0x402082=Math[_0x599a8e(0xfa)](0x100,Math[_0x599a8e(0x101)](_0x11cb0c,_0x402082));if(_0x402082!==CONFIG[_0x599a8e(0x105)]){const _0x3680c2=CONFIG[_0x599a8e(0x105)],_0x1d9b89=getPacketSizeBytes();CONFIG[_0x599a8e(0x105)]=_0x402082;const _0x5edbfb=getPacketSizeBytes();logSender(_0x599a8e(0x128)+_0x3680c2+_0x599a8e(0x14d)+_0x402082+'\x20samples/packet'),logSender(_0x599a8e(0x13c)+_0x1d9b89+'\x20â†’\x20'+_0x5edbfb+_0x599a8e(0x170)),updateStatsSender();}}async function connectWebSocket(){return new Promise((_0x5cd61e,_0x20401c)=>{const _0x5a9d5e=a1_0x205b,_0x3a0026=window[_0x5a9d5e(0x173)][_0x5a9d5e(0x165)]==='https:'?_0x5a9d5e(0x102):_0x5a9d5e(0x14e),_0xb19121=_0x3a0026+'//'+window['location'][_0x5a9d5e(0x120)];logSender(_0x5a9d5e(0x153)+_0xb19121+_0x5a9d5e(0x117)),ws=new WebSocket(_0xb19121),ws[_0x5a9d5e(0x10e)]=()=>{const _0x2d4e6d=_0x5a9d5e;logSender(_0x2d4e6d(0x13e),_0x2d4e6d(0x11a)),_0x5cd61e();},ws['onmessage']=_0x30c386=>{const _0x20c85d=_0x5a9d5e;try{const _0xf79452=JSON[_0x20c85d(0x163)](_0x30c386['data']);if(_0xf79452['type']==='config')logSender(_0x20c85d(0x103)+_0xf79452[_0x20c85d(0x12d)]+_0x20c85d(0x106)+_0xf79452[_0x20c85d(0x10b)]+'ch');else _0xf79452[_0x20c85d(0x10d)]===_0x20c85d(0x13f)&&handleRateReport(_0xf79452[_0x20c85d(0x12a)]);}catch(_0x45a543){}},ws[_0x5a9d5e(0x142)]=_0x34cd7d=>{const _0x3f55e2=_0x5a9d5e;logSender(_0x3f55e2(0xfd),_0x3f55e2(0x116)),_0x20401c(_0x34cd7d);},ws[_0x5a9d5e(0x131)]=()=>{const _0x3d5676=_0x5a9d5e;logSender('WebSocket\x20disconnected',_0x3d5676(0x175)),updateStatusSender('Disconnected',![],![]);};});}function handleAudioProcess(_0x4db339){const _0x34b518=a1_0x391391;if(!isRecording||!ws||ws[_0x34b518(0x11c)]!==WebSocket[_0x34b518(0x104)])return;const _0x26d583=new Float32Array(audioBuffer[_0x34b518(0x107)]+_0x4db339[_0x34b518(0x107)]);_0x26d583[_0x34b518(0x11e)](audioBuffer),_0x26d583[_0x34b518(0x11e)](_0x4db339,audioBuffer['length']),audioBuffer=_0x26d583;const _0x21b5e5=CONFIG['SAMPLES_PER_PACKET'],_0xf49837=_0x21b5e5*CHANNELS;while(audioBuffer[_0x34b518(0x107)]>=_0xf49837){const _0x3f1a8f=audioBuffer[_0x34b518(0x155)](0x0,_0xf49837);audioBuffer=audioBuffer[_0x34b518(0x155)](_0xf49837);const _0x10ad73=new Int16Array(_0xf49837);for(let _0x829591=0x0;_0x829591<_0xf49837;_0x829591++){const _0x524fce=Math[_0x34b518(0xfa)](-0x1,Math[_0x34b518(0x101)](0x1,_0x3f1a8f[_0x829591]));_0x10ad73[_0x829591]=Math['round'](_0x524fce*0x7fff);}try{ws[_0x34b518(0x119)](_0x10ad73['buffer']),packetsSent++,bytesSent+=_0x10ad73[_0x34b518(0xfc)],packetsSent%0x32===0x0&&updateStatsSender();}catch(_0x3981f4){console[_0x34b518(0x116)](_0x34b518(0x16b),_0x3981f4);return;}}}async function micRecording(){const _0x3be7df=a1_0x391391;try{startBtnMic['disabled']=!![],logSender('Starting\x20continuous\x20audio\x20streaming...'),logSender('ðŸ“Š\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%'),logSender(_0x3be7df(0x146)),logSender(_0x3be7df(0xfe)),packetsSent=0x0,bytesSent=0x0,adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0),mediaStream=await navigator[_0x3be7df(0x114)][_0x3be7df(0x13d)]({'audio':{'echoCancellation':!![],'noiseSuppression':!![],'autoGainControl':!![],'channelCount':CHANNELS,'sampleRate':CONFIG[_0x3be7df(0x159)]}}),logSender(_0x3be7df(0x15b),'success');const _0xc9f2f5=mediaStream[_0x3be7df(0x158)]();if(_0xc9f2f5['length']>0x0){const _0x23bbda=_0xc9f2f5[0x0]['getSettings']();logSender(_0x3be7df(0x144)+_0x23bbda[_0x3be7df(0x12d)]+_0x3be7df(0x137));}audioContext=new AudioContext({'sampleRate':CONFIG[_0x3be7df(0x159)]}),sourceNode=audioContext[_0x3be7df(0x172)](mediaStream);try{await audioContext[_0x3be7df(0x12b)][_0x3be7df(0x15e)](createAudioWorkletProcessor()),audioWorkletNode=new AudioWorkletNode(audioContext,_0x3be7df(0x109)),audioWorkletNode[_0x3be7df(0x11f)][_0x3be7df(0x14a)]=_0xb9984d=>{const _0x4689fd=_0x3be7df;handleAudioProcess(_0xb9984d[_0x4689fd(0x141)]);},sourceNode['connect'](audioWorkletNode),audioWorkletNode[_0x3be7df(0x156)](audioContext[_0x3be7df(0xff)]),logSender('âœ…\x20Using\x20AudioWorklet\x20(modern\x20API)',_0x3be7df(0x11a));}catch(_0x46f244){logSender(_0x3be7df(0x113),_0x3be7df(0x175)),sourceNode[_0x3be7df(0x156)](scriptNode),scriptNode['connect'](audioContext[_0x3be7df(0xff)]);}isRecording=!![],stopBtnMic['disabled']=![],updateStatusSender(_0x3be7df(0x166),!![],!![]),logSender('ðŸŽ¤\x20Recording\x20started\x20-\x20continuous\x20capture!','success'),updateStatsSender(),updateRateIndicator(0x64);}catch(_0xea2dfb){logSender(_0x3be7df(0x138)+_0xea2dfb[_0x3be7df(0x122)],'error'),console['error'](_0xea2dfb),startBtnMic[_0x3be7df(0x129)]=![];}}function createAudioWorkletProcessor(){const _0x4c7de6=a1_0x391391,_0x354a93='\x0a\x20\x20\x20\x20\x20\x20\x20\x20class\x20AudioProcessor\x20extends\x20AudioWorkletProcessor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process(inputs,\x20outputs,\x20parameters)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20input\x20=\x20inputs[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(input\x20&&\x20input.length\x20>=\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20leftChannel\x20=\x20input[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rightChannel\x20=\x20input[1];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interleave\x20stereo\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20interleaved\x20=\x20new\x20Float32Array(leftChannel.length\x20*\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20leftChannel.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202]\x20=\x20leftChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202\x20+\x201]\x20=\x20rightChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.port.postMessage(interleaved);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20registerProcessor(\x27audio-processor\x27,\x20AudioProcessor);\x0a\x20\x20\x20\x20',_0x686a4b=new Blob([_0x354a93],{'type':_0x4c7de6(0x12c)});return URL[_0x4c7de6(0x10f)](_0x686a4b);}function micStop(){const _0x20ed10=a1_0x391391;logSender('Stopping...'),isRecording=![],audioWorkletNode&&(audioWorkletNode[_0x20ed10(0x136)](),audioWorkletNode=null),sourceNode&&(sourceNode['disconnect'](),sourceNode=null),audioContext&&audioContext[_0x20ed10(0x126)]!=='closed'&&(audioContext[_0x20ed10(0x14f)](),audioContext=null),mediaStream&&(mediaStream['getTracks']()[_0x20ed10(0x123)](_0x59b1bd=>_0x59b1bd[_0x20ed10(0x174)]()),mediaStream=null),startBtnMic[_0x20ed10(0x129)]=![],stopBtnMic[_0x20ed10(0x129)]=!![],updateStatusSender(_0x20ed10(0x134),![],![]),logSender(_0x20ed10(0x14b),'success'),logSender('ðŸ“Š\x20Packets:\x20'+packetsSent+',\x20Bytes:\x20'+bytesSent),lastStableRate&&logSender(_0x20ed10(0x150)+(lastStableRate/0x3e8)[_0x20ed10(0x168)](0x1)+_0x20ed10(0x127)),updateStatsSender();}logSender(a1_0x391391(0x14c)),logSender(a1_0x391391(0x112)+CONFIG[a1_0x391391(0x105)]+a1_0x391391(0x154)),logSender(a1_0x391391(0x13c)+getPacketSizeBytes()+a1_0x391391(0x170)),logSender(a1_0x391391(0x139)),logSender(a1_0x391391(0x13a)),updateStatsSender(),updateRateIndicator(0x64);
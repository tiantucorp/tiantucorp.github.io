const a0_0x12a60b=a0_0x56d4;(function(_0x4cc9c9,_0x364965){const _0x1c77e3=a0_0x56d4,_0x37a04e=_0x4cc9c9();while(!![]){try{const _0x1474da=parseInt(_0x1c77e3(0x188))/0x1+-parseInt(_0x1c77e3(0x166))/0x2+parseInt(_0x1c77e3(0x176))/0x3+parseInt(_0x1c77e3(0x121))/0x4+-parseInt(_0x1c77e3(0x172))/0x5+parseInt(_0x1c77e3(0x169))/0x6*(parseInt(_0x1c77e3(0x162))/0x7)+-parseInt(_0x1c77e3(0x152))/0x8*(parseInt(_0x1c77e3(0x17d))/0x9);if(_0x1474da===_0x364965)break;else _0x37a04e['push'](_0x37a04e['shift']());}catch(_0x13efc3){_0x37a04e['push'](_0x37a04e['shift']());}}}(a0_0x309a,0x70b7d));let mediaStream=null,audioContext=null,audioWorkletNode=null,sourceNode=null,isRecording=![],packetsSent=0x0,bytesSent=0x0;function a0_0x56d4(_0x4567bf,_0x363da9){const _0x309ad3=a0_0x309a();return a0_0x56d4=function(_0x56d4ed,_0x1451fb){_0x56d4ed=_0x56d4ed-0x11a;let _0x8b915f=_0x309ad3[_0x56d4ed];return _0x8b915f;},a0_0x56d4(_0x4567bf,_0x363da9);}const CONFIG={'SAMPLES_PER_PACKET':0x21c,'SAMPLE_RATE':0xbb80,'MAX_PACKET_SIZE':0x800,'TARGET_BYTE_RATE':0x2ee00,'LOCK_CONSECUTIVE_SECONDS':0x5,'READJUST_THRESHOLD':0.1,'CONSECUTIVE_DEVIATIONS':0x3,'RATE_TOLERANCE':0.05},BYTES_PER_SAMPLE=0x2,CHANNELS=0x2;let adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0);function getPacketSizeBytes(){const _0x28fa43=a0_0x56d4,_0x2e46b9=CONFIG[_0x28fa43(0x13b)]*CHANNELS*BYTES_PER_SAMPLE;return Math['min'](_0x2e46b9,CONFIG['MAX_PACKET_SIZE']);}console[a0_0x12a60b(0x11b)](a0_0x12a60b(0x179)),console[a0_0x12a60b(0x11b)]('Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%'),console[a0_0x12a60b(0x11b)](a0_0x12a60b(0x12c),CONFIG['SAMPLES_PER_PACKET']),console['log'](a0_0x12a60b(0x185),getPacketSizeBytes(),a0_0x12a60b(0x139)),console[a0_0x12a60b(0x11b)]('Target\x20rate:',CONFIG[a0_0x12a60b(0x17e)],'B/s'),console[a0_0x12a60b(0x11b)](a0_0x12a60b(0x127)),console[a0_0x12a60b(0x11b)](a0_0x12a60b(0x170));const startBtnMic=document['getElementById'](a0_0x12a60b(0x122)),stopBtnMic=document['getElementById'](a0_0x12a60b(0x140));function logSender(_0x1b08e1,_0x184672=a0_0x12a60b(0x16a)){const _0x1cfea5=a0_0x12a60b;console['log'](_0x1cfea5(0x120)+_0x1b08e1);}function updateStatusSender(_0xd71b00,_0x4e46e1=![],_0x149a78=![]){}function updateStatsSender(){}function updateRateIndicator(_0x40d294){const _0x9790f4=_0x40d294['toFixed'](0x1)+'%';console['log']('rateValue='+_0x9790f4);}function handleRateReport(_0x10b6c4){const _0x12803f=a0_0x12a60b,_0x1e87a=_0x10b6c4/CONFIG[_0x12803f(0x17e)]*0x64;updateRateIndicator(_0x1e87a);const _0x3e67d5=Date['now']();!adaptationStartTime&&(adaptationStartTime=_0x3e67d5,isAdapting=!![],consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=_0x3e67d5,logSender('ðŸ”„\x20Starting\x20adaptation\x20period',_0x12803f(0x178)),logSender(_0x12803f(0x14f),_0x12803f(0x178)));const _0x5a1684=0x64-CONFIG[_0x12803f(0x17a)]*0x64,_0x2ac8c3=0x64+CONFIG[_0x12803f(0x17a)]*0x64;if(isAdapting)_0x1e87a>=_0x5a1684&&_0x1e87a<=_0x2ac8c3?(consecutiveGoodReports++,logSender(_0x12803f(0x146)+_0x1e87a['toFixed'](0x1)+_0x12803f(0x150)+consecutiveGoodReports+'/'+CONFIG[_0x12803f(0x158)]+'s',_0x12803f(0x15b)),consecutiveGoodReports>=CONFIG[_0x12803f(0x158)]?(isAdapting=![],adaptationLockTime=_0x3e67d5,lastStableRate=_0x10b6c4,consecutiveDeviations=0x0,lastDeviationDirection=null,logSender(_0x12803f(0x14a)+CONFIG['SAMPLES_PER_PACKET']+_0x12803f(0x124),_0x12803f(0x15b)),logSender('ðŸ“Š\x20Stable\x20rate:\x20'+(_0x10b6c4/0x3e8)['toFixed'](0x1)+_0x12803f(0x123)+_0x1e87a[_0x12803f(0x14c)](0x1)+'%)',_0x12803f(0x15b)),updateStatsSender()):updateStatsSender()):(consecutiveGoodReports>0x0&&logSender(_0x12803f(0x149)+_0x1e87a['toFixed'](0x1)+_0x12803f(0x137),'warning'),consecutiveGoodReports=0x0,logSender(_0x12803f(0x131)+_0x1e87a[_0x12803f(0x14c)](0x1)+'%)'),adjustSampleRate(_0x10b6c4,_0x1e87a),updateStatsSender()),lastReportTime=_0x3e67d5;else{const _0x295692=_0x1e87a-0x64,_0x5e1bd0=Math[_0x12803f(0x13d)](_0x295692);if(_0x5e1bd0>CONFIG[_0x12803f(0x157)]*0x64){const _0x3d557d=_0x295692>0x0?_0x12803f(0x16b):'low';lastDeviationDirection===_0x3d557d?consecutiveDeviations++:(consecutiveDeviations=0x1,lastDeviationDirection=_0x3d557d),updateStatsSender(),consecutiveDeviations>=CONFIG['CONSECUTIVE_DEVIATIONS']&&(logSender(_0x12803f(0x125)+_0x295692[_0x12803f(0x14c)](0x1)+_0x12803f(0x151),_0x12803f(0x12a)),isAdapting=!![],adaptationStartTime=_0x3e67d5,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,updateStatsSender());}else consecutiveDeviations>0x0&&(consecutiveDeviations=0x0,lastDeviationDirection=null,updateStatsSender()),packetsSent%0x64===0x0&&logSender(_0x12803f(0x16f)+_0x1e87a['toFixed'](0x1)+'%',_0x12803f(0x15b));}}function a0_0x309a(){const _0x554cb6=['Using\x20continuous\x20capture\x20(no\x20start/stop\x20loss)','audioWorklet','âœ…\x20Using\x20AudioWorklet\x20(modern\x20API)','error','âš ï¸\x20AudioWorklet\x20not\x20available,\x20using\x20ScriptProcessor','Initial\x20samples/packet:','data','âœ…\x20Stopped','Stopped','sampleRate','Adapting...\x20(','addModule','slice','type','ws:','send','%),\x20resetting\x20counter','SAMPLE_RATE','bytes','ðŸ“Š\x20Adjusted:\x20','SAMPLES_PER_PACKET','channels','abs','mediaDevices','disconnect','stopMicButton','\x20â†’\x20','byteLength','audio-processor','destination','https:','âœ“\x20Within\x20tolerance\x20(','disabled','âœ…\x20Microphone\x20access\x20granted','âš ï¸\x20Out\x20of\x20tolerance\x20(','âœ…\x20Rate\x20locked\x20at\x20','MAX_PACKET_SIZE','toFixed','Disconnected','Hz,\x20','ðŸ“Š\x20Need\x205\x20consecutive\x20seconds\x20within\x20Â±5%\x20to\x20lock','%)\x20-\x20','%),\x20restarting\x20adaptation!','304qlokuu','Recording','config','rateReport','ðŸ“Š\x20Final\x20stable\x20rate:\x20','READJUST_THRESHOLD','LOCK_CONSECUTIVE_SECONDS','host','getTracks','success','round','set','onmessage','ðŸŽ¤\x20No\x20word\x20loss\x20-\x20continuous\x20capture!','connect','length','4697BQyOut','location','floor','wss:','1740084vJFVpV','onerror','ðŸŽ¤\x20Recording\x20started\x20-\x20continuous\x20capture!','6978OPJvhS','info','high','\x20bytes','âŒ\x20Failed:\x20','onopen','âœ“\x20Rate\x20stable:\x20','===================================','âŒ\x20WebSocket\x20error','3382570oafXNI','OPEN','parse','application/javascript','2264601ATqZJk','Server:\x20','warning','===\x20CONTINUOUS\x20AUDIO\x20STREAMING\x20===','RATE_TOLERANCE','ðŸŽ¯\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%','createObjectURL','170703iUKGrl','TARGET_BYTE_RATE','\x20kB/s','protocol','...','createMediaStreamSource','message','readyState','Packet\x20size:','onclose','ðŸ“Š\x20Starting\x20at\x20540\x20samples/packet','617608tcAOVk','max','byteRate','stop','min','âœ¨\x20Ready\x20for\x20continuous\x20audio\x20streaming!','getSettings','log','WebSocket\x20disconnected','Hz,\x20EC/NS/AGC\x20enabled','Stopping...','Send\x20failed:','logSender:\x20','2304588lRhkuq','startMicButton','\x20kB/s\x20(','\x20samples/packet','âš ï¸\x203\x20consecutive\x20deviations\x20detected\x20(','âœ…\x20WebSocket\x20connected'];a0_0x309a=function(){return _0x554cb6;};return a0_0x309a();}function adjustSampleRate(_0x5b6fd2,_0x4009e2){const _0x12753f=a0_0x12a60b,_0x52810c=0x64-CONFIG[_0x12753f(0x17a)]*0x64,_0x3ed5cf=0x64+CONFIG[_0x12753f(0x17a)]*0x64;if(_0x4009e2>=_0x52810c&&_0x4009e2<=_0x3ed5cf)return;const _0x46d7ef=CONFIG[_0x12753f(0x13b)],_0x212af1=Math[_0x12753f(0x15c)](_0x46d7ef*(CONFIG[_0x12753f(0x17e)]/_0x5b6fd2));let _0x3ab747=Math[_0x12753f(0x15c)](_0x212af1/0x4)*0x4;const _0x49e752=Math[_0x12753f(0x164)](CONFIG[_0x12753f(0x14b)]/(CHANNELS*BYTES_PER_SAMPLE));_0x3ab747=Math[_0x12753f(0x189)](0x100,Math[_0x12753f(0x18c)](_0x49e752,_0x3ab747));if(_0x3ab747!==CONFIG[_0x12753f(0x13b)]){const _0x7d9f71=CONFIG[_0x12753f(0x13b)],_0x5e718e=getPacketSizeBytes();CONFIG[_0x12753f(0x13b)]=_0x3ab747;const _0x354588=getPacketSizeBytes();logSender(_0x12753f(0x13a)+_0x7d9f71+_0x12753f(0x141)+_0x3ab747+_0x12753f(0x124)),logSender('ðŸ“Š\x20Packet\x20size:\x20'+_0x5e718e+_0x12753f(0x141)+_0x354588+_0x12753f(0x16c)),updateStatsSender();}}async function connectWebSocket(){return new Promise((_0x404b9d,_0x1963a3)=>{const _0x4013bb=a0_0x56d4,_0x585e71=window[_0x4013bb(0x163)][_0x4013bb(0x180)]===_0x4013bb(0x145)?_0x4013bb(0x165):_0x4013bb(0x135),_0x3a15aa=_0x585e71+'//'+window[_0x4013bb(0x163)][_0x4013bb(0x159)];logSender('Connecting\x20to\x20'+_0x3a15aa+_0x4013bb(0x181)),ws=new WebSocket(_0x3a15aa),ws[_0x4013bb(0x16e)]=()=>{const _0x180250=_0x4013bb;logSender(_0x180250(0x126),'success'),_0x404b9d();},ws[_0x4013bb(0x15e)]=_0x12fde1=>{const _0x7026c0=_0x4013bb;try{const _0xb8c3c5=JSON[_0x7026c0(0x174)](_0x12fde1['data']);if(_0xb8c3c5[_0x7026c0(0x134)]===_0x7026c0(0x154))logSender(_0x7026c0(0x177)+_0xb8c3c5['sampleRate']+_0x7026c0(0x14e)+_0xb8c3c5[_0x7026c0(0x13c)]+'ch');else _0xb8c3c5[_0x7026c0(0x134)]===_0x7026c0(0x155)&&handleRateReport(_0xb8c3c5[_0x7026c0(0x18a)]);}catch(_0x515123){}},ws[_0x4013bb(0x167)]=_0x5e6d39=>{const _0x1cf531=_0x4013bb;logSender(_0x1cf531(0x171),_0x1cf531(0x12a)),_0x1963a3(_0x5e6d39);},ws[_0x4013bb(0x186)]=()=>{const _0x45b4d6=_0x4013bb;logSender(_0x45b4d6(0x11c),_0x45b4d6(0x178)),updateStatusSender(_0x45b4d6(0x14d),![],![]);};});}function handleAudioProcess(_0x3306b4){const _0x29cd51=a0_0x12a60b;if(!isRecording||!ws||ws[_0x29cd51(0x184)]!==WebSocket[_0x29cd51(0x173)])return;const _0x5e602f=new Float32Array(audioBuffer[_0x29cd51(0x161)]+_0x3306b4['length']);_0x5e602f[_0x29cd51(0x15d)](audioBuffer),_0x5e602f[_0x29cd51(0x15d)](_0x3306b4,audioBuffer[_0x29cd51(0x161)]),audioBuffer=_0x5e602f;const _0x4499f9=CONFIG[_0x29cd51(0x13b)],_0x35e16e=_0x4499f9*CHANNELS;while(audioBuffer[_0x29cd51(0x161)]>=_0x35e16e){const _0x52d5b7=audioBuffer['slice'](0x0,_0x35e16e);audioBuffer=audioBuffer[_0x29cd51(0x133)](_0x35e16e);const _0x31ef32=new Int16Array(_0x35e16e);for(let _0x21d0ae=0x0;_0x21d0ae<_0x35e16e;_0x21d0ae++){const _0x10e259=Math[_0x29cd51(0x189)](-0x1,Math[_0x29cd51(0x18c)](0x1,_0x52d5b7[_0x21d0ae]));_0x31ef32[_0x21d0ae]=Math['round'](_0x10e259*0x7fff);}try{ws[_0x29cd51(0x136)](_0x31ef32['buffer']),packetsSent++,bytesSent+=_0x31ef32[_0x29cd51(0x142)],packetsSent%0x32===0x0&&updateStatsSender();}catch(_0x3bf63e){console[_0x29cd51(0x12a)](_0x29cd51(0x11f),_0x3bf63e);return;}}}async function micRecording(){const _0x34ccf2=a0_0x12a60b;try{startBtnMic[_0x34ccf2(0x147)]=!![],logSender('Starting\x20continuous\x20audio\x20streaming...'),logSender('ðŸ“Š\x20Strategy:\x20Adapt\x20until\x205\x20consecutive\x20seconds\x20within\x20Â±5%'),logSender(_0x34ccf2(0x187)),logSender('ðŸŽ¤\x20Continuous\x20capture\x20(no\x20start/stop\x20loss)'),packetsSent=0x0,bytesSent=0x0,adaptationStartTime=null,isAdapting=![],lastStableRate=null,adaptationLockTime=null,consecutiveDeviations=0x0,lastDeviationDirection=null,consecutiveGoodReports=0x0,lastReportTime=null,audioBuffer=new Float32Array(0x0),mediaStream=await navigator[_0x34ccf2(0x13e)]['getUserMedia']({'audio':{'echoCancellation':!![],'noiseSuppression':!![],'autoGainControl':!![],'channelCount':CHANNELS,'sampleRate':CONFIG['SAMPLE_RATE']}}),logSender(_0x34ccf2(0x148),_0x34ccf2(0x15b));const _0x27aa9d=mediaStream['getAudioTracks']();if(_0x27aa9d[_0x34ccf2(0x161)]>0x0){const _0x1efeef=_0x27aa9d[0x0][_0x34ccf2(0x11a)]();logSender('Mic:\x20'+_0x1efeef[_0x34ccf2(0x130)]+_0x34ccf2(0x11d));}audioContext=new AudioContext({'sampleRate':CONFIG[_0x34ccf2(0x138)]}),sourceNode=audioContext[_0x34ccf2(0x182)](mediaStream);try{await audioContext[_0x34ccf2(0x128)][_0x34ccf2(0x132)](createAudioWorkletProcessor()),audioWorkletNode=new AudioWorkletNode(audioContext,_0x34ccf2(0x143)),audioWorkletNode['port'][_0x34ccf2(0x15e)]=_0x23d398=>{const _0x928c8a=_0x34ccf2;handleAudioProcess(_0x23d398[_0x928c8a(0x12d)]);},sourceNode[_0x34ccf2(0x160)](audioWorkletNode),audioWorkletNode['connect'](audioContext[_0x34ccf2(0x144)]),logSender(_0x34ccf2(0x129),_0x34ccf2(0x15b));}catch(_0x300627){logSender(_0x34ccf2(0x12b),_0x34ccf2(0x178)),sourceNode[_0x34ccf2(0x160)](scriptNode),scriptNode[_0x34ccf2(0x160)](audioContext['destination']);}isRecording=!![],stopBtnMic[_0x34ccf2(0x147)]=![],updateStatusSender(_0x34ccf2(0x153),!![],!![]),logSender(_0x34ccf2(0x168),_0x34ccf2(0x15b)),updateStatsSender(),updateRateIndicator(0x64);}catch(_0x2ef29c){logSender(_0x34ccf2(0x16d)+_0x2ef29c[_0x34ccf2(0x183)],_0x34ccf2(0x12a)),console['error'](_0x2ef29c),startBtnMic[_0x34ccf2(0x147)]=![];}}function createAudioWorkletProcessor(){const _0x266f00=a0_0x12a60b,_0x33c03d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20class\x20AudioProcessor\x20extends\x20AudioWorkletProcessor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20process(inputs,\x20outputs,\x20parameters)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20input\x20=\x20inputs[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(input\x20&&\x20input.length\x20>=\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20leftChannel\x20=\x20input[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20rightChannel\x20=\x20input[1];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interleave\x20stereo\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20interleaved\x20=\x20new\x20Float32Array(leftChannel.length\x20*\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20leftChannel.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202]\x20=\x20leftChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20interleaved[i\x20*\x202\x20+\x201]\x20=\x20rightChannel[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.port.postMessage(interleaved);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20registerProcessor(\x27audio-processor\x27,\x20AudioProcessor);\x0a\x20\x20\x20\x20',_0x124708=new Blob([_0x33c03d],{'type':_0x266f00(0x175)});return URL[_0x266f00(0x17c)](_0x124708);}function micStop(){const _0x3253fc=a0_0x12a60b;logSender(_0x3253fc(0x11e)),isRecording=![],audioWorkletNode&&(audioWorkletNode[_0x3253fc(0x13f)](),audioWorkletNode=null),sourceNode&&(sourceNode[_0x3253fc(0x13f)](),sourceNode=null),audioContext&&audioContext['state']!=='closed'&&(audioContext['close'](),audioContext=null),mediaStream&&(mediaStream[_0x3253fc(0x15a)]()['forEach'](_0x5845be=>_0x5845be[_0x3253fc(0x18b)]()),mediaStream=null),startBtnMic[_0x3253fc(0x147)]=![],stopBtnMic[_0x3253fc(0x147)]=!![],updateStatusSender(_0x3253fc(0x12f),![],![]),logSender(_0x3253fc(0x12e),'success'),logSender('ðŸ“Š\x20Packets:\x20'+packetsSent+',\x20Bytes:\x20'+bytesSent),lastStableRate&&logSender(_0x3253fc(0x156)+(lastStableRate/0x3e8)['toFixed'](0x1)+_0x3253fc(0x17f)),updateStatsSender();}logSender(a0_0x12a60b(0x18d)),logSender('ðŸ“Š\x20Starting:\x20'+CONFIG[a0_0x12a60b(0x13b)]+a0_0x12a60b(0x124)),logSender('ðŸ“Š\x20Packet\x20size:\x20'+getPacketSizeBytes()+'\x20bytes'),logSender(a0_0x12a60b(0x17b)),logSender(a0_0x12a60b(0x15f)),updateStatsSender(),updateRateIndicator(0x64);
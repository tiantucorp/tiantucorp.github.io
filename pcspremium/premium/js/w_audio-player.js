const a7_0x3c0a0c=a7_0x2f77;(function(_0x518ef6,_0x246c54){const _0x54ee0f=a7_0x2f77,_0x312c9c=_0x518ef6();while(!![]){try{const _0x55cdd9=parseInt(_0x54ee0f(0x140))/0x1+parseInt(_0x54ee0f(0x15d))/0x2*(parseInt(_0x54ee0f(0x141))/0x3)+parseInt(_0x54ee0f(0x13d))/0x4*(-parseInt(_0x54ee0f(0x16b))/0x5)+parseInt(_0x54ee0f(0x161))/0x6+-parseInt(_0x54ee0f(0x168))/0x7+-parseInt(_0x54ee0f(0x137))/0x8*(-parseInt(_0x54ee0f(0x13b))/0x9)+-parseInt(_0x54ee0f(0x15b))/0xa;if(_0x55cdd9===_0x246c54)break;else _0x312c9c['push'](_0x312c9c['shift']());}catch(_0x1e2c87){_0x312c9c['push'](_0x312c9c['shift']());}}}(a7_0x3bde,0xd1121));let spkContext=null,spkWorkletNode=null,analyser=null,gainNode=null,isPlaying=![],packetsReceived=0x0,bytesReceived=0x0,spkQueue=[];function a7_0x3bde(){const _0x2952ff=['Buffer\x20underrun\x20#','logPlayer:\x20','disabled','Initializing\x20Web\x20Audio\x20API...','✅\x20Playback\x20stopped','stats','length','===\x20FIRST\x20PACKET\x20DEBUG\x20===','rateReport','webkitAudioContext','bytes','type','spk-stream-processor','19992240pLMpqb','Audio\x20config:\x20','11728PAmvTh','✅\x20Playback\x20started','every','underrun','9640302SFWnqc','Hz,\x20','First\x2010\x20samples:','AudioContext','speakerVolume','==========================','Sample\x20range:','9542862yfYVST','resume','handleRateReport','95ecUHSh','micStats','gain','handleRateReport\x20type:','All\x20zeros?','Starting\x20playback...','bitDepth','message','destination','error','disconnect','log','port','createAnalyser','connect','config','getElementById','❌\x20Failed\x20to\x20start:\x20','application/javascript','data','info','value','close','suspended','9188744BveAle','from','ch,\x20','warn','9qDCMWS','Ready\x20to\x20stream\x20spk','57284LVZOqr','bit','string','949856vhastM','402DkNfLJ','✅\x20Audio\x20context\x20initialized','byteRate','arrayBuffer','Playing','success','state','\x20(queue:\x20','channels','byteLength','stopToneButton','sampleRate','createGain'];a7_0x3bde=function(){return _0x2952ff;};return a7_0x3bde();}function a7_0x2f77(_0x3a3f0e,_0x4da752){const _0x3bde16=a7_0x3bde();return a7_0x2f77=function(_0x2f7766,_0x2c5240){_0x2f7766=_0x2f7766-0x136;let _0x1ab3c7=_0x3bde16[_0x2f7766];return _0x1ab3c7;},a7_0x2f77(_0x3a3f0e,_0x4da752);}const playBtnSpk=document['getElementById']('startToneButton'),stopBtnSpk=document[a7_0x3c0a0c(0x17b)](a7_0x3c0a0c(0x14b)),volumeSlider=document[a7_0x3c0a0c(0x17b)](a7_0x3c0a0c(0x165));function logPlayer(_0x42f9ca,_0x3e6c3e=a7_0x3c0a0c(0x17f)){const _0x44adb6=a7_0x3c0a0c;console[_0x44adb6(0x176)](_0x44adb6(0x14f)+_0x42f9ca);}function updateStatusPlayer(_0x248a1a,_0xff6831=![],_0x501e41=![]){}function updateStatsPlayer(){}async function processMessageEventFromServer(_0x460c2f){const _0x1f0550=a7_0x3c0a0c;if(typeof _0x460c2f['data']===_0x1f0550(0x13f)){const _0x4a7061=JSON['parse'](_0x460c2f['data']);switch(_0x4a7061[_0x1f0550(0x159)]){case _0x1f0550(0x17a):logPlayer(_0x1f0550(0x15c)+_0x4a7061[_0x1f0550(0x14c)]+_0x1f0550(0x162)+_0x4a7061[_0x1f0550(0x149)]+_0x1f0550(0x139)+_0x4a7061[_0x1f0550(0x171)]+_0x1f0550(0x13e));break;case _0x1f0550(0x153):logPlayer('Server\x20stats:\x20'+_0x4a7061['speakerStats']),logPlayer('Server\x20stats:\x20'+_0x4a7061[_0x1f0550(0x16c)]);break;case _0x1f0550(0x156):console[_0x1f0550(0x176)](_0x1f0550(0x16e),typeof window[_0x1f0550(0x16a)]),handleRateReport(_0x4a7061[_0x1f0550(0x143)]);break;default:showMessageFromServer(_0x460c2f['data']);}}else{if(_0x460c2f[_0x1f0550(0x17e)]instanceof ArrayBuffer||_0x460c2f['data']instanceof Blob){if(!spkWorkletNode||!spkWorkletNode[_0x1f0550(0x177)]){console['warn']('AudioWorkletNode\x20not\x20ready\x20yet.\x20Dropping\x20packet.');return;}var _0x59278f;if(_0x460c2f[_0x1f0550(0x17e)]instanceof ArrayBuffer)_0x59278f=_0x460c2f[_0x1f0550(0x17e)];else _0x460c2f['data']instanceof Blob&&(_0x59278f=await _0x460c2f[_0x1f0550(0x17e)][_0x1f0550(0x144)]());packetsReceived++,bytesReceived+=_0x59278f['byteLength'];const _0x55a1f7=new Int16Array(_0x59278f);if(packetsReceived===0x1){console['log'](_0x1f0550(0x155)),console[_0x1f0550(0x176)]('Packet\x20length:',_0x59278f[_0x1f0550(0x14a)],_0x1f0550(0x158)),console[_0x1f0550(0x176)]('Int16\x20samples:',_0x55a1f7[_0x1f0550(0x154)]),console[_0x1f0550(0x176)](_0x1f0550(0x163),Array[_0x1f0550(0x138)](_0x55a1f7['slice'](0x0,0xa)));const _0x48bdae=_0x55a1f7[_0x1f0550(0x15f)](_0x140511=>_0x140511===0x0);console['log'](_0x1f0550(0x16f),_0x48bdae);let _0x23d14c=_0x55a1f7[0x0],_0xaa9a5=_0x55a1f7[0x0];for(let _0x5b4a6e=0x0;_0x5b4a6e<_0x55a1f7[_0x1f0550(0x154)];_0x5b4a6e++){if(_0x55a1f7[_0x5b4a6e]<_0x23d14c)_0x23d14c=_0x55a1f7[_0x5b4a6e];if(_0x55a1f7[_0x5b4a6e]>_0xaa9a5)_0xaa9a5=_0x55a1f7[_0x5b4a6e];}console['log'](_0x1f0550(0x167),_0x23d14c,'to',_0xaa9a5),console[_0x1f0550(0x176)](_0x1f0550(0x166));}const _0xfbd6e8=new Float32Array(_0x55a1f7[_0x1f0550(0x154)]);for(let _0x30d394=0x0;_0x30d394<_0x55a1f7[_0x1f0550(0x154)];_0x30d394++){_0xfbd6e8[_0x30d394]=_0x55a1f7[_0x30d394]/0x8000;}spkWorkletNode['port']['postMessage'](_0xfbd6e8),updateStatsPlayer();}}}async function initSpkAudioContext(){const _0x21dede=a7_0x3c0a0c;if(spkContext)return;logPlayer(_0x21dede(0x151)),spkContext=new(window[(_0x21dede(0x164))]||window[(_0x21dede(0x157))])({'sampleRate':0xbb80,'latencyHint':'interactive'}),gainNode=spkContext[_0x21dede(0x14d)]();const _0x1db11c=parseInt(volumeSlider[_0x21dede(0x180)])||0x1e;gainNode[_0x21dede(0x16d)][_0x21dede(0x180)]=_0x1db11c/0x64,analyser=spkContext[_0x21dede(0x178)](),analyser['fftSize']=0x800,gainNode[_0x21dede(0x179)](analyser),analyser[_0x21dede(0x179)](spkContext[_0x21dede(0x173)]);const _0x37a493='\x0a\x20\x20\x20\x20class\x20AudioStreamProcessor\x20extends\x20AudioWorkletProcessor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20constructor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20super();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.buffer\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.frameSize\x20=\x20128\x20*\x202;\x20//\x20128\x20frames\x20×\x202\x20channels\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.port.onmessage\x20=\x20(event)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20event.data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data\x20instanceof\x20Float32Array)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.buffer.push(...data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20process(inputs,\x20outputs)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20output\x20=\x20outputs[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20left\x20=\x20output[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20right\x20=\x20output[1];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(this.buffer.length\x20>=\x20this.frameSize)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20left.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left[i]\x20=\x20this.buffer[i\x20*\x202]\x20||\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right[i]\x20=\x20this.buffer[i\x20*\x202\x20+\x201]\x20||\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.buffer.splice(0,\x20this.frameSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20i\x20=\x200;\x20i\x20<\x20left.length;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left[i]\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right[i]\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.port.postMessage(\x27underrun\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20registerProcessor(\x27spk-stream-processor\x27,\x20AudioStreamProcessor);\x0a\x20\x20\x20\x20',_0x50ba3c=new Blob([_0x37a493],{'type':_0x21dede(0x17d)}),_0x12daae=URL['createObjectURL'](_0x50ba3c);await spkContext['audioWorklet']['addModule'](_0x12daae),spkWorkletNode=new AudioWorkletNode(spkContext,_0x21dede(0x15a),{'outputChannelCount':[0x2]}),spkWorkletNode[_0x21dede(0x179)](gainNode);let _0x557e29=0x0;spkWorkletNode[_0x21dede(0x177)]['onmessage']=_0x3fd621=>{const _0xf5e6d9=_0x21dede;_0x3fd621['data']===_0xf5e6d9(0x160)&&(_0x557e29++,_0x557e29%0x64===0x0&&console[_0xf5e6d9(0x13a)](_0xf5e6d9(0x14e)+_0x557e29+_0xf5e6d9(0x148)+spkQueue['length']+')'));},logPlayer(_0x21dede(0x142),_0x21dede(0x146));}function spkUpdateVolume(_0x3b1374){gainNode&&(gainNode['gain']['value']=_0x3b1374/0x64,logPlayer('Volume\x20set\x20to\x20'+_0x3b1374+'%'));}async function spkPlay(){const _0x224257=a7_0x3c0a0c;try{playBtnSpk[_0x224257(0x150)]=!![],logPlayer(_0x224257(0x170)),await initSpkAudioContext(),spkContext[_0x224257(0x147)]===_0x224257(0x136)&&await spkContext[_0x224257(0x169)](),isPlaying=!![],stopBtnSpk[_0x224257(0x150)]=![],updateStatusPlayer(_0x224257(0x145),!![],!![]),logPlayer(_0x224257(0x15e),_0x224257(0x146));}catch(_0x1ef13b){logPlayer(_0x224257(0x17c)+_0x1ef13b[_0x224257(0x172)],_0x224257(0x174)),playBtnSpk[_0x224257(0x150)]=![];}}function spkStop(){const _0x570846=a7_0x3c0a0c;logPlayer('Stopping\x20playback...'),spkWorkletNode&&(spkWorkletNode[_0x570846(0x175)](),spkWorkletNode=null),gainNode&&(gainNode[_0x570846(0x175)](),gainNode=null),spkContext&&(spkContext[_0x570846(0x181)](),spkContext=null),spkQueue=[],isPlaying=![],playBtnSpk[_0x570846(0x150)]=![],stopBtnSpk['disabled']=!![],updateStatusPlayer('Stopped',![],![]),logPlayer(_0x570846(0x152),_0x570846(0x146));}logPlayer(a7_0x3c0a0c(0x13c)),updateStatsPlayer();